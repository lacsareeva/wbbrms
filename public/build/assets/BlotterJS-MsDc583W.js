function w(e=null){Swal.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(t=>{var n;if(t.isConfirmed){const l=e||((n=document.getElementById("view_id"))==null?void 0:n.innerText);if(!l||l.trim()===""){Swal.fire("Error!","No record selected for deletion or the table is empty.","error");return}const o=document.getElementById("delete-form");o.addEventListener("submit",d=>{d.preventDefault()}),o.action=o.action.replace(":id",l),setTimeout(()=>{o.removeEventListener("submit",d=>{d.preventDefault()}),o.submit()},500)}})}window.submitDeleteForm=w;function y(e){document.getElementById("update-walk-in-modal").style.display="block",document.getElementById("update_incident_report").value=e.incident_report||"",document.getElementById("update_address").value=e.address||"",document.getElementById("update_date_time").value=e.datetimes||"",document.getElementById("update_complainant_name").value=e.nameofcomplainant||"",document.getElementById("update_witness1").value=e.witness1||"",document.getElementById("update_witness2").value=e.witness2||"";const t=document.getElementById("update_narrative");t&&(t.value=e.narrative||""),document.getElementById("update_sender").value=e.sender||"";const n=document.getElementById("update-form");n&&(n.action=`blotter/update/${e.id}`)}window.editBlotter=y;function p(e){document.getElementById("view-walk-in-modal").style.display="block",document.getElementById("view_id").textContent=e.id||"",document.getElementById("view_incident_report").textContent=e.incident_report||"",document.getElementById("view_address").textContent=e.address||"",document.getElementById("view_date_time").textContent=e.datetimes||"",document.getElementById("view_complainant_name").textContent=e.nameofcomplainant||"",document.getElementById("view_witness1").textContent=e.witness1||"",document.getElementById("view_witness2").textContent=e.witness2||"";const t=document.getElementById("view_narrative");t&&(t.textContent=e.narrative||""),document.getElementById("view_sender").textContent=e.sender||"";const n=document.getElementById("view-form");n&&(n.action=`blotter/update/${e.id}`)}window.viewBlotter=p;function f(){document.getElementById("walk-in-modal").style.display="block",document.getElementById("incident-report").focus()}window.openWalkInModal=f;function B(){document.getElementById("walk-in-modal").style.display="none"}window.closeWalkInModal=B;function I(){document.getElementById("update-walk-in-modal").style.display="none"}window.closeUpdateWalkInModal=I;function g(){document.getElementById("view-walk-in-modal").style.display="none"}window.closeViewWalkInModal=g;function v(){const t=document.getElementById("search").value.toLowerCase(),l=document.getElementById("blotterTable").getElementsByTagName("tr");let o=0,d=0;for(let c=1;c<l.length;c++){const a=l[c],m=a.getElementsByTagName("td");let s=!1;if(a.id!=="noDataRow"){o++;for(let i=0;i<m.length;i++)if(m[i]&&(m[i].textContent||m[i].innerText).toLowerCase().includes(t)){s=!0;break}s?(a.style.display="",d++):a.style.display="none"}}const u=document.getElementById("noDataRow");u.style.display=d===0?"":"none";const r=document.getElementById("countValue");r.textContent=`${d} of ${o}`}window.filterTable=v;document.getElementById("complainant-name").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness1").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness2").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});
