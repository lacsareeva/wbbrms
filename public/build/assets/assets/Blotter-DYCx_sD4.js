function w(e=null){Swal.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(a=>{var o;if(a.isConfirmed){const d=e||((o=document.getElementById("view_id"))==null?void 0:o.innerText);if(!d||d.trim()===""){Swal.fire("Error!","No record selected for deletion or the table is empty.","error");return}const n=document.getElementById("delete-form");n.addEventListener("submit",t=>{t.preventDefault()}),n.action=n.action.replace(":id",d),setTimeout(()=>{n.removeEventListener("submit",t=>{t.preventDefault()}),n.submit()},500)}})}window.submitDeleteForm=w;function y(e){function a(n){if(!n)return"";const t=new Date(n),m=t.getFullYear(),u=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${m}-${u}-${s} ${i}:${l}`}document.getElementById("update-walk-in-modal").style.display="block",document.getElementById("update_incident_report").value=e.incident_report||"",document.getElementById("update_address").value=e.address||"",document.getElementById("update_date_time").value=a(e.datetimes||""),document.getElementById("update_complainant_name").value=e.nameofcomplainant||"",document.getElementById("update_witness1").value=e.witness1||"",document.getElementById("update_witness2").value=e.witness2||"";const o=document.getElementById("update_narrative");o&&(o.value=e.narrative||""),document.getElementById("update_sender").value=e.sender||"";const d=document.getElementById("update-form");d&&(d.action=`blotter/update/${e.id}`)}window.editBlotter=y;function g(e){document.getElementById("view-walk-in-modal").style.display="block",document.getElementById("view_id").textContent=e.id||"",document.getElementById("view_incident_report").textContent=e.incident_report||"",document.getElementById("view_address").textContent=e.address||"",document.getElementById("view_date_time").textContent=e.datetimes||"",document.getElementById("view_complainant_name").textContent=e.nameofcomplainant||"",document.getElementById("view_witness1").textContent=e.witness1||"",document.getElementById("view_witness2").textContent=e.witness2||"";const a=document.getElementById("view_narrative");a&&(a.textContent=e.narrative||""),document.getElementById("view_sender").textContent=e.sender||"";const o=document.getElementById("view-form");o&&(o.action=`blotter/update/${e.id}`)}window.viewBlotter=g;function p(){document.getElementById("walk-in-modal").style.display="block",document.getElementById("incident-report").focus()}window.openWalkInModal=p;function f(){document.getElementById("walk-in-modal").style.display="none"}window.closeWalkInModal=f;function B(){document.getElementById("update-walk-in-modal").style.display="none"}window.closeUpdateWalkInModal=B;function I(){document.getElementById("view-walk-in-modal").style.display="none"}window.closeViewWalkInModal=I;function v(){const a=document.getElementById("search").value.toLowerCase(),d=document.getElementById("blotterTable").getElementsByTagName("tr");let n=0,t=0;for(let s=1;s<d.length;s++){const i=d[s],l=i.getElementsByTagName("td");let r=!1;if(i.id!=="noDataRow"){n++;for(let c=0;c<l.length;c++)if(l[c]&&(l[c].textContent||l[c].innerText).toLowerCase().includes(a)){r=!0;break}r?(i.style.display="",t++):i.style.display="none"}}const m=document.getElementById("noDataRow");m.style.display=t===0?"":"none";const u=document.getElementById("countValue");u.textContent=`${t} of ${n}`}window.filterTable=v;document.getElementById("complainant-name").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness1").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness2").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});
