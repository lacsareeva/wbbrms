function $(e,t,n,o,i,l){document.getElementById("fullName").value=e,document.getElementById("age").value=t,document.getElementById("contact").value=n,document.getElementById("address").value=o,document.getElementById("dateRegistered").value=i,document.getElementById("status").value=l,document.getElementById("editModal").style.display="flex"}window.openModal=$;function C(){document.getElementById("editModal").style.display="none"}window.closeModal=C;function M(){alert("Resident information saved!"),C()}window.saveResident=M;function T(){alert("Resident removed!"),C()}window.removeResident=T;function V(e){switch(document.querySelectorAll(".container").forEach(n=>{n.style.display="none"}),document.getElementById(e).style.display="block",document.querySelectorAll(".report-btn button").forEach(n=>{n.classList.remove("active")}),e){case"residentsContainer":document.getElementById("residentsBtn").classList.add("active");break;case"officialsContainer":document.getElementById("officialsBtn").classList.add("active");break;case"verificationContainer":document.getElementById("verifyBtn").classList.add("active");break}}window.showSection=V;function j(e,t,n,o){document.getElementById("officialId").value=n,document.getElementById("fullname").value=e,document.getElementById("position").value=t;const i=document.getElementById("officialsimages");i.src=o,document.getElementById("editOfficialsModal").style.display="block";const l=document.getElementById("editForms");l&&(l.action=`resident-and-officials/${n}`)}window.openOfficialsModal=j;function S(){document.getElementById("editOfficialsModal").style.display="none"}window.closeEditModal=S;function D(e){const t=e.target,n=document.getElementById("officialsimages");if(t.files&&t.files[0]){const o=new FileReader;o.onload=function(i){n.src=i.target.result},o.readAsDataURL(t.files[0])}}window.previewImage=D;function k(e){if(!e)return"";const t=new Date(e),n=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),d=String(t.getMinutes()).padStart(2,"0");return`${n}-${o}-${i} ${l}:${d}`}function q(e){document.getElementById("view-verify-modal").style.display="block",document.getElementById("view_emails").value=e.email||"",document.getElementById("view_id").value=e.id||"",document.getElementById("view_email").value=e.email||"",document.getElementById("view_fullname").textContent=`${e.name||""} ${e.mname||""} ${e.lname||""} ${e.suffix||""}`.trim(),document.getElementById("view_age").textContent=e.age||"",document.getElementById("view_address").textContent=e.address||"",document.getElementById("view_email_display").textContent=e.email||"",document.getElementById("view_residenttype").textContent=e.residenttype||"",document.getElementById("view_gender").textContent=e.gender||"",document.getElementById("view_dateRegister").textContent=k(e.created_at||""),document.getElementById("view_verificationID").textContent=e.verification_id||"",document.getElementById("view_verificationIDnumber").textContent=e.verification_id_number||"";const t=document.getElementById("view_verificationIDimage");t.src=e.verification_id_image?`/storage/${e.verification_id_image}`:"",t.alt=e.verification_id_image?"Verification ID Image":"No image provided"}window.viewResidents=q;function A(){document.getElementById("view-verify-modal").style.display="none"}window.closeVerifyModal=A;function L(){document.getElementById("response_rejected_info").style.display="none",document.getElementById("view_rejected_response").value=""}window.closeRejectModal=L;function N(){Swal.fire({title:"Accept request?",text:"Are you sure he/she is a verified resident?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(e=>{if(e.isConfirmed){const t=document.getElementById("view_email").value;if(t){const n=document.getElementById("view-forms");n.action=`resident-and-officials/verify/${encodeURIComponent(t)}`,n.submit()}else alert("No email found!")}})}window.handleAcceptRequest=N;function O(){const e=document.getElementById("view_rejected_response").value,t=document.getElementById("view_emails").value;if(!e.trim()){alert("Please provide a reason for rejection.");return}const n=document.createElement("form");n.method="POST",n.action=`resident-and-officials/reject/${t}`;const o=document.querySelector('meta[name="csrf-token"]').getAttribute("content");n.innerHTML=`
        <input type="hidden" name="_token" value="${o}">
        <input type="hidden" name="response" value="${e}">
        <input type="hidden" name="email" value="${t}">
    `,document.body.appendChild(n),n.submit()}window.handleRejectRequest=O;function F(e){e.preventDefault(),document.getElementById("response_rejected_info").style.display="block"}window.rejectRequest=F;function P(){const e=document.getElementById("SortRrejectedResidents").value,t=document.getElementById("validResidents"),n=document.getElementById("rejectContainer"),o=document.getElementById("removedContainer");e==="REJECTED"?(t.style.display="none",n.style.display="block",o.style.display="none"):e==="VERIFIED"?(t.style.display="block",n.style.display="none",o.style.display="none"):e==="REMOVED"?(n.style.display="none",o.style.display="block",t.style.display="none"):(t.style.display="none",n.style.display="none",o.style.display="none")}window.sortRejectedInfo=P;function H(){const t=document.getElementById("searchess").value.toLowerCase();let n=0,o=0,i=0,l=0,d=0,r=0;document.querySelectorAll(".containers").forEach(a=>{if(a.style.display!=="none"){const f=a.querySelector("table");if(f){const R=f.getElementsByTagName("tr");let b=0,p=0,_=0,B=0,h=0,E=0;const g=f.querySelector("#noDataRow");for(let I=1;I<R.length;I++){const w=R[I],v=w.getElementsByTagName("td");let x=!1;if(w.id!=="noDataRow"){b++,_++,h++;for(let m=0;m<v.length;m++)if(v[m]&&(v[m].textContent||v[m].innerText).toLowerCase().includes(t)){x=!0;break}x?(w.style.display="",p++,B++,E++):w.style.display="none"}}g&&(g.style.display=p===0?"":"none",g.style.display=B===0?"":"none",g.style.display=E===0?"":"none"),n+=b,o+=p,i+=_,l+=B,d+=h,r+=E}}});const s=document.getElementById("countValue");s.textContent=`${o} of ${n}`;const c=document.getElementById("countValues");c.textContent=`${l} of ${i}`;const y=document.getElementById("countValuess");y.textContent=`${r} of ${d}`}window.filterTable=H;function U(){const t=document.getElementById("searches").value.toLowerCase(),o=document.getElementById("residentverifyTable").getElementsByTagName("tr");let i=0,l=0;for(let u=1;u<o.length;u++){const s=o[u],c=s.getElementsByTagName("td");let y=!1;if(s.id!=="noDataRow"){i++;for(let a=0;a<c.length;a++)if(c[a]&&(c[a].textContent||c[a].innerText).toLowerCase().includes(t)){y=!0;break}y?(s.style.display="",l++):s.style.display="none"}}const d=document.getElementById("noDataRow");d.style.display=l===0?"":"none";const r=document.getElementById("countValuess");r.textContent=`${l} of ${i}`}window.filterTables=U;function Y(e){Swal.fire({title:"Are you sure?",text:"It can't be retrieved once deleted.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&(window.location.href=`resident-and-officials/deletes/${e}`)})}window.removeResidents=Y;
