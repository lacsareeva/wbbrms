function y(e=null){Swal.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then(o=>{var l;if(o.isConfirmed){const a=e||((l=document.getElementById("view_id"))==null?void 0:l.innerText);if(!a||a.trim()===""){Swal.fire("Error!","No record selected for deletion or the table is empty.","error");return}const t=document.getElementById("delete-form");t.addEventListener("submit",n=>{n.preventDefault()}),t.action=t.action.replace(":id",a),setTimeout(()=>{t.removeEventListener("submit",n=>{n.preventDefault()}),t.submit()},500)}})}window.submitDeleteForm=y;function p(e){document.getElementById("update-walk-in-modal").style.display="block",document.getElementById("update_incident_report").value=e.incident_report||"",document.getElementById("update_address").value=e.address||"",document.getElementById("update_date_time").value=e.datetimes||"",document.getElementById("update_complainant_name").value=e.nameofcomplainant||"",document.getElementById("update_witness1").value=e.witness1||"",document.getElementById("update_witness2").value=e.witness2||"";const o=document.getElementById("update_narrative");o&&(o.value=e.narrative||""),document.getElementById("update_sender").value=e.sender||"";const l=document.getElementById("update-form");l&&(l.action=`blotter/update/${e.id}`)}window.editBlotter=p;function w(){document.getElementById("walk-in-modal").style.display="block",document.getElementById("incident-report").focus()}window.openWalkInModal=w;function f(){document.getElementById("walk-in-modal").style.display="none"}window.closeWalkInModal=f;function g(){document.getElementById("update-walk-in-modal").style.display="none"}window.closeUpdateWalkInModal=g;function I(){document.getElementById("view-walk-in-modal").style.display="none"}window.closeViewWalkInModal=I;function B(){const o=document.getElementById("search").value.toLowerCase(),a=document.getElementById("blotterTable").getElementsByTagName("tr");let t=0,n=0;for(let s=1;s<a.length;s++){const i=a[s],u=i.getElementsByTagName("td");let c=!1;if(i.id!=="noDataRow"){t++;for(let d=0;d<u.length;d++)if(u[d]&&(u[d].textContent||u[d].innerText).toLowerCase().includes(o)){c=!0;break}c?(i.style.display="",n++):i.style.display="none"}}const m=document.getElementById("noDataRow");m.style.display=n===0?"":"none";const r=document.getElementById("countValue");r.textContent=`${n} of ${t}`}window.filterTable=B;document.getElementById("complainant-name").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness1").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});document.getElementById("witness2").addEventListener("input",function(e){this.value=this.value.replace(/[^A-Za-z\s]/g,"")});
